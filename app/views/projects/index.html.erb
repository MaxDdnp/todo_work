<div class="header">
<h1><center>SIMPLE TODO LISTS</center></h1>
<h2><center>FROM RUBY GARAGE</center></h2>
</div>

<% if @projects.empty? %>
  <div class="add_proj">Add project to start</div>
<% else %>
<% @projects.each do |project| %>
<div class="project_and_tasks" data-id="">
    <div class="project">

      <div class="name"><%= project.name %></div>

      <div  class="action delete">
          <%= link_to '', project, method: :delete, data: { confirm: 'Are you sure?' } %>
          <button  type="button" class="btn btn-lg">
          <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> 
          </button>  
        </div>

        <div  class="action edit">
          <%= link_to '', edit_project_path(project) %>
          <button  type="button" class="btn btn-lg">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true">
            </span> 
          </button>  
        </div>

        
      </div>

    <div class="task">
        <%= form_for(@task || Task.new) do |f| %>
        <div class="icon">
          <button  type="button" class="btn btn-success btn-xs">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </button>  
        </div>
        <div class="input-group input-group-sm input">
          <%= f.text_field :name, :placeholder => "Start typing here to create a task", :class => "form-control" %> 
          <%= f.hidden_field :project_id, :value => project.id %>
          <span class="input-group-addon success" id="basic-addon2" >Add task</span>
        </div>
      <% end %>
    </div>

    <div class="tasks">
      <% project.tasks.each_with_index do |task, index| %>
        <div class="task-element" data-id='<%= task.id %>'>

        <%= form_for task do |t| %>
          <div class="checkbox">
              <label>
              <%=t.check_box :status, {:class => "chk", :style => "margin: 0px 0px 0px -15px; padding: 0px 0px 6px 0px;"}, "done", "open" %>
              <!-- <input type="checkbox" class="chk" style="margin: 0px 0px 0px -15px; padding: 0px 0px 6px 0px;"> -->
              </label>
          </div>
          <% end %>

          <div class="name"><%= task.name %></div>
          <div class="actions">
            <div class="action move">
              <button type="button" class="btn btn-xs">
              <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span> 
              </button>
              <button type="button" class="btn btn-xs">
              <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span> 
              </button>  
            </div>
            <div class="action edit">
              <button type="button" class="btn btn-xs">
              <%= link_to "<span class='glyphicon glyphicon-pencil' aria-hidden='true' ></span>".html_safe, edit_task_path(task) %>
              </button>  
            </div>
            <div class="action delete">
              <button type="button" class="btn btn-xs">
                <%= link_to "<span class='glyphicon glyphicon-trash' aria-hidden='true' ></span>".html_safe, task, method: :delete, data: { confirm: 'Are you sure?' } %>
              </button>  
            </div>
          </div>
        </div>
        <br>
       <% end %>
</div>
<% end %>
<% end %>
<br><br><br><br><br>

  <div id="add_list">
    <button id="add_proj" type="button" class="btn btn-success btn-lg">
      <span class="glyphicon glyphicon-plus"></span>
      <span class="add_todo_list" style="color: white;"> <%= link_to 'Add ToDo List', new_project_path, {class: 'btn btn-success btn-lg', style: 'color: white;' }  %> </span>
    </button>
  </div>

<br><br><br>